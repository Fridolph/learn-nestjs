# 数据库设计

## 数据库设计三大范式

### 第一范式

1NF是对属性的原子性，要求属性具有原子性不可再分解；

### 第二范式

2NF是对记录的唯一性，要求记录有唯一标识，即实体唯一性，不存在部分依赖；

> 表：职工号，姓名，职称，项目号，项目名称

该表说明了两个逻辑关系：职工项目和项目信息；由于非主键字段必须依赖主键，这里 **职工号 -> 姓名**，**职工号 -> 职称**，而**项目号 -> 项目名称** 有依赖关系，所以不符合第二范式。

可能存在问题：

- 数据冗余 每条记录都含有相同信息
- 删除异常 删除所有成绩学生，就把课程信息全删除了
- 插入异常 学生未选课，无法记录进数据库

正确做法：

常用的解决办法是拆分表格，比如拆分为：

- 职工信息表（职工ID、职称ID），或加入职称表（职称ID、职称、职称等级等）
- 项目信息表（项目ID、项目名称、职工ID）

### 第三范式

如果一个关系属于第二范式，且在两个或多个非主键间不存在函数依赖，非主键属性之间的函数依赖也称为传递依赖，那么这个关系属于第三范式。

3NF是对字段的**冗余性**，要求任何字段不能由其他字段派生出来，它要求字段没有冗余，即**不存在传递依赖关系**。

> 表：Student表（学号、姓名、年龄、性别，所在院校，院校地址，院校电话）
> 上表属于第二范式，因为主键由单个属性组成

但是存在依赖关系：学号 -> 学生 -> 所在院校 -> 院校电话。可能会存在以下问题：
  
- 数据冗余  有重复值
- 更新异常  有重复的冗余信息，修改时需要同时修改多条记录，否则会出现**数据不一致**的情况

正确做法：

> Student表：学号、姓名、年龄、所在院校
> School表：院校名称、院校地址、院校电话等

### 反范式化

一般来说，数据库只需满足第三范式 3NF 就行了

## 阶段

### 需求分析

### 逻辑设计

### 数据库创建

### 维护与优化
