# NestJS

客户端 -> (请求/响应) -> 控制器 -> (使用服务/依赖注入)

-> 服务 -> (数据库、持久化) 数据接入

## NestJS 应用生命周期

客户端 -> 中间件 -> 守卫 -> 拦截器 -> 管道 -> 控制器

-> 服务 -> 拦截器 -> 过滤器 -> 响应 -> 客户端

钩子方法：用户可以自定义该方法来改变原有的逻辑，实现一些特定的功能。

## NestJS 用模块来组织代码

- 使用 Module 来组织应用程序
- @Module 装饰器来描述模块
- 模块属性：
  - imports
  - providers
  - controllers
  - exports

> 可以这样理解：模块分来是独立的，组合在一起又为一个整体。具备高内聚、低耦合的特点，通过模块减少重复代码，提升代码可维护性

### 模块分类

- 功能模块 功能模块与共享模块是一回事，但叫法不同
- 共享模块 同上，定义和使用场景不同
- 全局模块 通常应用在配置、数据库连接、日志等
- 动态模块 在使用到模块时才初始化（类比懒加载）
